"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5669],{5669:(y,p,s)=>{s.r(p),s.d(p,{HomePageModule:()=>S});var v=s(6814),i=s(5548),h=s(95),f=s(4482),a=s(5861),o=s(6689),P=s(5874);let E=(()=>{class t{constructor(){this.isElectron=!1,this.isElectron=!!window.isElectronEnvironment,this.isElectron||console.warn("Electron IPC methods were not loaded!")}on(e,n){window.receiveFromElectron&&window.receiveFromElectron(e,n)}once(e,n){window.receiveFromElectron&&window.receiveFromElectron(e,(r,c)=>{n(r,c),this.removeListener(e,n)})}send(e,...n){window.sendToElectron&&window.sendToElectron(e,...n)}removeListener(e,n){window.removeElectronListener&&window.removeElectronListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const w=[{path:"",component:(()=>{class t{constructor(e,n,r,c,u){this.loadingController=e,this.transcriptionService=n,this.electronService=r,this.navCtrl=c,this.ngZone=u,this.audioUploaded=!1,this.audioFilePath=null}uploadAudio(e){var n=this;return(0,a.Z)(function*(){const r=e.target;r.files&&r.files[0]?(n.audioUploaded=!0,n.electronService.isElectron?(n.audioFilePath=r.files[0].path,console.log("Audio file uploaded:",r.files[0].name,"Path:",n.audioFilePath)):(n.audioFilePath=r.files[0].name,console.warn("Using file name instead of path in a non-Electron environment."))):console.warn("No audio files selected.")})()}processAudio(){var e=this;return(0,a.Z)(function*(){if(!e.audioFilePath)return void console.warn("No audio file path available for processing.");console.log("Attempting to process audio:",e.audioFilePath);const n=yield e.loadingController.create({message:"Processing audio..."});yield n.present();const r=function(){var u=(0,a.Z)(function*(g,d){e.ngZone.run((0,a.Z)(function*(){console.log("Received 'audio-processed' event:",d);const m=(e.audioFilePath||"Unknown File").split("/").pop();e.transcriptionService.storeResults(d,m),yield e.dismissLoadingAndNavigate(n),e.electronService.removeListener("audio-processed",r),e.electronService.removeListener("audio-process-error",c)}))});return function(d,m){return u.apply(this,arguments)}}(),c=function(){var u=(0,a.Z)(function*(g,d){e.ngZone.run((0,a.Z)(function*(){console.error("Received 'audio-process-error' event:",d),yield e.dismissLoadingAndNavigateOnError(n),e.electronService.removeListener("audio-processed",r),e.electronService.removeListener("audio-process-error",c)}))});return function(d,m){return u.apply(this,arguments)}}();e.electronService.once("audio-processed",r),e.electronService.once("audio-process-error",c),e.electronService.isElectron?(e.electronService.send("process-audio",e.audioFilePath),console.log("Sent 'process-audio' event:",e.audioFilePath)):console.warn("Cannot send audio to Electron in a non-Electron environment.")})()}dismissLoadingAndNavigate(e){var n=this;return(0,a.Z)(function*(){try{yield e.dismiss(),console.log("Loading dismissed"),n.navCtrl.navigateForward("/results")}catch(r){console.error("Error dismissing the loading spinner:",r)}})()}dismissLoadingAndNavigateOnError(e){return(0,a.Z)(function*(){try{yield e.dismiss(),console.log("Loading dismissed after error")}catch(n){console.error("Error dismissing the loading spinner after error:",n)}})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.HT),o.Y36(P.J),o.Y36(E),o.Y36(i.SH),o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-home"]],decls:14,vars:1,consts:[["slot","start"],["type","file",3,"change"],["expand","full",3,"disabled","click"]],template:function(e,n){1&e&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"monoLog"),o.qZA(),o.TgZ(4,"ion-buttons",0),o._UZ(5,"ion-menu-button"),o.qZA()()(),o.TgZ(6,"ion-content")(7,"ion-card")(8,"ion-card-header"),o._uU(9," Upload an audio file "),o.qZA(),o.TgZ(10,"ion-card-content")(11,"input",1),o.NdJ("change",function(c){return n.uploadAudio(c)}),o.qZA()()(),o.TgZ(12,"ion-button",2),o.NdJ("click",function(){return n.processAudio()}),o._uU(13," Process Audio "),o.qZA()()),2&e&&(o.xp6(12),o.Q6J("disabled",!n.audioUploaded))},dependencies:[i.YG,i.Sm,i.PM,i.FN,i.Zi,i.W2,i.Gu,i.fG,i.wd,i.sr],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[f.Bz.forChild(w),f.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[v.ez,h.u5,i.Pc,Z]}),t})()}}]);